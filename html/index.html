<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>HTML - formes de bases</title>

  <script type="text/javascript">

  var point;
  var stations = new Array();

  var gare =
  {'nom':'gare',
    'id':'1',
    'x':869.28572,
    'y':657
  };

  var segment1 = {

  }

  var avGare = {
  'nom':'av. gare',
    'id':'2',
    'x':885,
    'y':570

  }

  var preguillaume = {
  'nom':'preguillaume',
    'id':'2',
    'x':842,
    'y':511

  }

  stations.push(gare);

  //alert(stations[0].nom);

  function displayPoint (evt) {

    console.log(evt);
  }

  function init () {
    point = document.getElementById('point');
  }

  function segmentEnd (evt) {
    point.setAttribute('fill','#FD3441');
  }

  function segmentStart (evt) {
    point.setAttribute('fill','#3445FD');
  }


  function animatePoint () {


  }
  </script>
</head>
<body onload="init()">
      <svg width="1440" height="777" style="border:1px solid black;">
        <g onclick="displayPoint(evt)">

          <image
             y="0"
             x="0"
             id="image3194"
             xlink:href="carte_delemont.jpg"
             height="777"
             width="1440" />

          <defs>
            <image
                  id="bus_stop"
                  xlink:href="icon_bus.png"
                  height="20"
                  width="20" />
          </defs>


          <use id="gare" y="634.79059" x="861.38855" xlink:href="#bus_stop"/>
          <use id="avgare" y="559.28168" x="889.67285" xlink:href="#bus_stop"/>
          <use id="preguillaume" y="541.35144" x="831.58905" xlink:href="#bus_stop"/>
          <use id="stand" y="553.72583" x="701.27936" xlink:href="#bus_stop"/>
          <use id="blancherie" y="645.14465" x="613.90118" xlink:href="#bus_stop"/>
          <use id="grospre" y="607.26392" x="539.1499" xlink:href="#bus_stop"/>
          <use id="hopital" y="301.69278" x="463.38846" xlink:href="#bus_stop"/>
          <use id="merretop" y="366.8476" x="369.44427" xlink:href="#bus_stop"/>
          <use id="palastre" y="403.9707" x="283.83383" xlink:href="#bus_stop"/>
          <use id="poujet" y="444.62936" x="388.63718" xlink:href="#bus_stop"/>
          <use  id="promenade" y="492.3591" x="527.53314" xlink:href="#bus_stop"/>

          <circle id="point" cx="0" cy="0" r="5" fill="#3445FD" stroke="none">


              <animateMotion id="a_segment1" onend="segmentEnd(evt)" onbegin="segmentStart(evt)"
                    path="M 869.28572,657 875.71429,654.85714 882.14286,667 975.71429,643.42857 979.28572,637 968.57143,633.42857 941.42857,632 900.71429,628.42857 893.57143,611.28571 886.42857,578.42857"
                    begin="0s" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment1stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment1.end" dur="1s"
                            repeatCount="2"/>


              <animateMotion id="a_segment2" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 886.07143,575.92857 878.92857,555.92857 861.42857,559.85714 839.64286,565.57143"
                    begin="segment1stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment2stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment2.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment3" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 838.21429,565.57143 820.35714,569.14286 808.57143,571.64286 803.92857,580.21429 791.07143,577.71429 778.21429,569.14286 766.07143,563.78571 752.14286,561.28571 740,564.14286 728.21429,569.85714 716.07143,578.78571"
                    begin="segment2stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment3stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment3.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment4" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 715,580.21429 701.78572,589.14286 688.21429,598.42857 675.35714,608.07143 661.42857,617.71429 645.35714,627.35714 622.14286,640.21429"
                    begin="segment3stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment4stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment4.end" dur="1s"
                            repeatCount="2"/>


              <animateMotion id="a_segment5" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 620,641.64286 613.57143,644.14286 599.28572,634.5 584.28572,625.57143 567.85714,614.14286"
                    begin="segment4stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment5stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment5.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment6" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 565.71429,613.42857 562.5,610.57143 570,599.5 580.35714,583.42857 586.42857,569.14286 592.14286,552.71429 589.64286,540.57143 580,524.85714 568.21429,510.57143 552.85714,496.28571"
                    begin="segment5stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment6stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment6.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment7" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 551.07143,494.5 538.21429,482.71429 533.21429,472 523.92857,454.14286 513.57143,438.42857 502.5,426.64286 495,417 488.92857,410.21429 490.71429,393.07143 491.07143,385.21429 485.35714,369.5 479.28572,352.35714 475,337.71429 469.28572,322.71428"
                    begin="segment6stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment7stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment7.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment8" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 467.5,324.14286 443.21429,330.92857 446.42857,350.57143 417.5,356.28571 384.28571,363.78571"
                    begin="segment7stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment8stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment8.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment9" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 383.57143,361.28571 380.35714,344.85714 377.85714,323.07143 377.14286,316.64286 360.35714,320.21428 350.35714,322 337.5,331.64286 326.07143,342.71429 313.57143,355.57143 311.07143,370.92857 309.64286,386.28571 308.57143,405.92857"
                    begin="segment8stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment9stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment9.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment10" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 307.85714,406.64286 307.85714,414.14286 314.64286,426.64286 318.92857,434.14286 331.07143,440.21429 331.07143,440.21429 344.64286,447.35714 360.35714,456.28571 376.42857,463.42857 390.35714,468.07143"
                    begin="segment9stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment10stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment10.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment11" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 392.5,469.85714 411.78571,477.35714 435,486.64286 445,489.14286 470.35714,482.71429 492.14286,476.28571 505,475.57143 521.42857,477.35714 536.07143,481.64286 551.42857,494.14286"
                    begin="segment10stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment11stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment11.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment12" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 551.78572,494.85714 563.57143,506.28571 573.57143,516.64286 585.71429,532.71429 592.14286,543.42857 592.14286,555.92857 583.21429,578.78571 576.07143,591.28571 566.78572,604.85714 562.14286,610.57143 566.07143,614.14286"
                    begin="segment11stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment12stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment12.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment13" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 567.14286,613.42857 612.85714,644.14286 622.14286,640.57143"
                    begin="segment12stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment13stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment13.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment14" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 621.78572,640.57143 651.42857,623.42857 679.64286,605.21429 716.07143,579.5"
                    begin="segment13stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment14stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment14.end" dur="1s"
                            repeatCount="2"/>

              <animateMotion id="a_segment15" onend="segmentEnd()" onbegin="segmentStart(evt)"
                    path="M 717.14286,577.71429 732.85714,568.42857 740,575.21429 748.21429,586.28571 756.42857,600.57143 765.35714,615.57143 773.92857,628.42857 785.71429,638.78571 797.14286,653.78571 807.14286,668.42857 820.35714,685.57143 837.5,683.42857 855.71429,678.07143 865,674.14286 862.5,664.85714 861.42857,659.14286 867.14286,657.35714"
                    begin="segment14stop.end" dur="2s" repeatCount="1" fill="freeze"/>

              <animateTransform id="segment15stop" attributeName="transform"
                            type="scale"
                            from="1" to="3"
                            begin="a_segment15.end" dur="1s"
                            repeatCount="2"/>

          </circle>

        </g>
      </svg>
</body>
</html>
